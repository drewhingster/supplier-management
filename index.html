<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Supplier Document Management System | Bureau of Statistics</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:opsz,wght@8..60,400;8..60,600;8..60,700&family=DM+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- Authentication Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-content auth-modal-content">
            <div class="auth-header">
                <div class="gov-seal">
                    <svg viewBox="0 0 80 80" class="seal-icon">
                        <!-- Outer teal circle -->
                        <circle cx="40" cy="40" r="36" fill="none" stroke="#1a6b7c" stroke-width="3"/>
                        <!-- Inner orange circle -->
                        <circle cx="40" cy="40" r="28" fill="none" stroke="#e87722" stroke-width="2.5"/>
                        <!-- Orange star -->
                        <path d="M40 16 L44.5 30 L59 30 L47.5 39 L51.5 53 L40 44.5 L28.5 53 L32.5 39 L21 30 L35.5 30 Z" fill="#e87722"/>
                    </svg>
                </div>
                <h2>Supplier Document Management System</h2>
                <p class="auth-subtitle">Bureau of Statistics — Ministry of Finance</p>
            </div>
            <form id="auth-form">
                <div class="form-group">
                    <label for="auth-token">Access Token</label>
                    <input type="password" id="auth-token" placeholder="Enter your access token" required>
                </div>
                <button type="submit" class="btn btn-primary btn-full">
                    <span>Authenticate</span>
                    <svg viewBox="0 0 24 24" class="btn-icon"><path d="M5 12h14m-7-7l7 7-7 7" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </form>
            <p class="auth-footer">Authorized personnel only. All access is logged and monitored.</p>
        </div>
    </div>

    <!-- Main Application -->
    <div id="app" class="app-container hidden">
        <!-- Header -->
        <header class="app-header">
            <div class="header-left">
                <div class="logo-container">
                    <svg viewBox="0 0 60 60" class="logo-icon">
                        <!-- Outer teal circle -->
                        <circle cx="30" cy="30" r="27" fill="none" stroke="#1a6b7c" stroke-width="2.5"/>
                        <!-- Inner orange circle -->
                        <circle cx="30" cy="30" r="21" fill="none" stroke="#e87722" stroke-width="2"/>
                        <!-- Orange star -->
                        <path d="M30 12 L33.5 22.5 L44.5 22.5 L35.5 29 L38.5 40 L30 33.5 L21.5 40 L24.5 29 L15.5 22.5 L26.5 22.5 Z" fill="#e87722"/>
                    </svg>
                </div>
                <div class="header-title">
                    <h1>Supplier Document Management</h1>
                    <span class="header-subtitle">Bureau of Statistics — Procurement Unit</span>
                </div>
            </div>
            <div class="header-right">
                <!-- Navigation Tabs -->
                <div class="nav-tabs">
                    <button id="nav-suppliers" class="nav-tab active" onclick="switchView('suppliers')">
                        <svg viewBox="0 0 24 24" width="18" height="18"><path d="M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2" stroke="currentColor" stroke-width="2" fill="none"/><circle cx="9" cy="7" r="4" stroke="currentColor" stroke-width="2" fill="none"/><path d="M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                        Suppliers
                    </button>
                    <button id="nav-contracts" class="nav-tab" onclick="switchView('contracts')">
                        <svg viewBox="0 0 24 24" width="18" height="18"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" stroke="currentColor" stroke-width="2" fill="none"/><polyline points="14,2 14,8 20,8" stroke="currentColor" stroke-width="2" fill="none"/><line x1="16" y1="13" x2="8" y2="13" stroke="currentColor" stroke-width="2"/><line x1="16" y1="17" x2="8" y2="17" stroke="currentColor" stroke-width="2"/></svg>
                        Contracts
                    </button>
                </div>
                
                <button id="add-category-btn" class="btn btn-secondary">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M4 6h16M4 12h16M4 18h10" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Categories
                </button>
                <button id="add-supplier-btn" class="btn btn-primary">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Add Supplier
                </button>
                <button id="add-contract-btn" class="btn btn-primary hidden">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Add Contract
                </button>
                
                <!-- Notification Button -->
                <button id="notification-btn" class="btn btn-ghost notification-btn" title="Compliance Alerts">
                    <svg viewBox="0 0 24 24" class="btn-icon">
                        <path d="M18 8A6 6 0 006 8c0 7-3 9-3 9h18s-3-2-3-9" stroke="currentColor" stroke-width="2" fill="none"/>
                        <path d="M13.73 21a2 2 0 01-3.46 0" stroke="currentColor" stroke-width="2" fill="none"/>
                    </svg>
                    <span id="notification-badge" class="notification-badge hidden">0</span>
                </button>
                
                <button id="logout-btn" class="btn btn-ghost" title="Logout">
                    <svg viewBox="0 0 24 24" class="btn-icon"><path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4m7 14l5-5-5-5m5 5H9" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
        </header>

        <!-- Notification Panel -->
        <div id="notification-panel" class="notification-panel hidden">
            <div class="notification-panel-header">
                <h3>
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path d="M10.29 3.86L1.82 18a2 2 0 001.71 3h16.94a2 2 0 001.71-3L13.71 3.86a2 2 0 00-3.42 0z" stroke="currentColor" stroke-width="2" fill="none"/>
                        <line x1="12" y1="9" x2="12" y2="13" stroke="currentColor" stroke-width="2"/>
                        <line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2"/>
                    </svg>
                    Compliance Alerts
                </h3>
                <button class="notification-close" onclick="closeNotificationPanel()">
                    <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
            <div class="notification-summary" id="notification-summary"></div>
            <div class="notification-list" id="notification-list"></div>
        </div>

        <!-- ==================== SUPPLIERS VIEW ==================== -->
        <div id="suppliers-view" class="view-container">
            <main class="main-content">
                <!-- Sidebar Filters -->
                <aside class="sidebar">
                    <div class="search-container">
                        <svg viewBox="0 0 24 24" class="search-icon"><circle cx="11" cy="11" r="8" fill="none" stroke="currentColor" stroke-width="2"/><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2"/></svg>
                        <input type="text" id="search-input" placeholder="Search suppliers...">
                    </div>
                    
                    <div class="filter-section">
                        <h3 class="filter-title">Filter by Category</h3>
                        <div id="category-filters" class="category-list">
                            <label class="category-item active">
                                <input type="radio" name="category-filter" value="all" checked>
                                <span class="category-radio"></span>
                                <span class="category-name">All Categories</span>
                                <span class="category-count" id="count-all">0</span>
                            </label>
                        </div>
                    </div>

                    <div class="filter-section">
                        <h3 class="filter-title">Document Status</h3>
                        <div class="status-filters">
                            <label class="status-item">
                                <input type="checkbox" id="filter-complete" checked>
                                <span class="status-checkbox"></span>
                                <span class="status-name">Complete</span>
                            </label>
                            <label class="status-item">
                                <input type="checkbox" id="filter-incomplete" checked>
                                <span class="status-checkbox"></span>
                                <span class="status-name">Incomplete</span>
                            </label>
                        </div>
                    </div>

                    <div class="sidebar-stats">
                        <div class="stat-card">
                            <span class="stat-value" id="total-suppliers">0</span>
                            <span class="stat-label">Total Suppliers</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="compliant-suppliers">0</span>
                            <span class="stat-label">Fully Compliant</span>
                        </div>
                        <div class="stat-card stat-card-warning" id="needs-attention-card">
                            <span class="stat-value" id="needs-attention">0</span>
                            <span class="stat-label">Needs Attention</span>
                        </div>
                    </div>
                </aside>

                <!-- Supplier List -->
                <section class="supplier-grid">
                    <div class="grid-header">
                        <h2>Registered Suppliers</h2>
                        <div class="grid-header-controls">
                            <div class="sort-control">
                                <label for="supplier-sort">Sort by:</label>
                                <select id="supplier-sort" class="sort-select">
                                    <option value="name-asc">Name (A-Z)</option>
                                    <option value="name-desc">Name (Z-A)</option>
                                    <option value="date-desc">Date Added (Newest)</option>
                                    <option value="date-asc">Date Added (Oldest)</option>
                                    <option value="category-asc">Category (A-Z)</option>
                                    <option value="category-desc">Category (Z-A)</option>
                                </select>
                            </div>
                            <div class="view-toggle">
                                <button id="view-grid" class="view-btn active" title="Grid View">
                                    <svg viewBox="0 0 24 24"><rect x="3" y="3" width="7" height="7" rx="1" fill="currentColor"/><rect x="14" y="3" width="7" height="7" rx="1" fill="currentColor"/><rect x="3" y="14" width="7" height="7" rx="1" fill="currentColor"/><rect x="14" y="14" width="7" height="7" rx="1" fill="currentColor"/></svg>
                                </button>
                                <button id="view-list" class="view-btn" title="List View">
                                    <svg viewBox="0 0 24 24"><rect x="3" y="4" width="18" height="4" rx="1" fill="currentColor"/><rect x="3" y="10" width="18" height="4" rx="1" fill="currentColor"/><rect x="3" y="16" width="18" height="4" rx="1" fill="currentColor"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    
                    <div id="supplier-list" class="suppliers-container grid-view"></div>
                    
                    <div id="empty-state" class="empty-state hidden">
                        <svg viewBox="0 0 120 120" class="empty-icon">
                            <circle cx="60" cy="60" r="50" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="8 4"/>
                            <path d="M40 45h40M40 60h40M40 75h25" stroke="currentColor" stroke-width="3" stroke-linecap="round"/>
                        </svg>
                        <h3>No Suppliers Found</h3>
                        <p>Add your first supplier to get started, or adjust your filters.</p>
                        <button class="btn btn-primary" onclick="openSupplierModal()">
                            <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                            Add First Supplier
                        </button>
                    </div>

                    <div id="loading-state" class="loading-state hidden">
                        <div class="loading-spinner"></div>
                        <p>Loading suppliers...</p>
                    </div>
                </section>
            </main>
        </div>

        <!-- ==================== CONTRACTS VIEW ==================== -->
        <div id="contracts-view" class="view-container hidden">
            <main class="main-content contracts-main">
                <!-- Contracts Sidebar -->
                <aside class="sidebar">
                    <div class="search-container">
                        <svg viewBox="0 0 24 24" class="search-icon"><circle cx="11" cy="11" r="8" fill="none" stroke="currentColor" stroke-width="2"/><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2"/></svg>
                        <input type="text" id="contract-search-input" placeholder="Search contracts...">
                    </div>

                    <div class="filter-section">
                        <h3 class="filter-title">Filter by Supplier</h3>
                        <select id="contract-supplier-filter" class="form-select">
                            <option value="">All Suppliers</option>
                        </select>
                    </div>

                    <div class="sidebar-stats">
                        <div class="stat-card">
                            <span class="stat-value" id="total-contracts">0</span>
                            <span class="stat-label">Total Contracts</span>
                        </div>
                        <div class="stat-card">
                            <span class="stat-value" id="total-contract-value">$0</span>
                            <span class="stat-label">Total Value</span>
                        </div>
                    </div>
                </aside>

                <!-- Contracts List -->
                <section class="contracts-grid">
                    <div class="grid-header">
                        <h2>Contract Records</h2>
                        <div class="sort-control">
                            <label for="contract-sort">Sort by:</label>
                            <select id="contract-sort" class="sort-select">
                                <option value="date-desc">Date Added (Newest)</option>
                                <option value="date-asc">Date Added (Oldest)</option>
                                <option value="number-asc">Contract # (A-Z)</option>
                                <option value="number-desc">Contract # (Z-A)</option>
                                <option value="amount-desc">Amount (High-Low)</option>
                                <option value="amount-asc">Amount (Low-High)</option>
                                <option value="supplier-asc">Supplier (A-Z)</option>
                                <option value="supplier-desc">Supplier (Z-A)</option>
                            </select>
                        </div>
                    </div>
                    
                    <div id="contracts-list" class="contracts-container"></div>
                    
                    <div id="contracts-empty-state" class="empty-state hidden">
                        <svg viewBox="0 0 120 120" class="empty-icon">
                            <path d="M70 20H30a5 5 0 00-5 5v70a5 5 0 005 5h60a5 5 0 005-5V40L70 20z" fill="none" stroke="currentColor" stroke-width="2"/>
                            <polyline points="70,20 70,40 95,40" fill="none" stroke="currentColor" stroke-width="2"/>
                            <line x1="40" y1="55" x2="80" y2="55" stroke="currentColor" stroke-width="2"/>
                            <line x1="40" y1="70" x2="80" y2="70" stroke="currentColor" stroke-width="2"/>
                            <line x1="40" y1="85" x2="60" y2="85" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        <h3>No Contracts Found</h3>
                        <p>Create your first contract record to get started.</p>
                        <button class="btn btn-primary" onclick="openContractModal()">
                            <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M12 5v14m-7-7h14" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                            Add First Contract
                        </button>
                    </div>

                    <div id="contracts-loading-state" class="loading-state hidden">
                        <div class="loading-spinner"></div>
                        <p>Loading contracts...</p>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <!-- ==================== MODALS ==================== -->

    <!-- Add/Edit Supplier Modal -->
    <div id="supplier-modal" class="modal hidden">
        <div class="modal-content supplier-modal-content">
            <div class="modal-header">
                <h2 id="supplier-modal-title">Add New Supplier</h2>
                <button class="modal-close" onclick="closeSupplierModal()">
                    <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
            
            <form id="supplier-form" class="supplier-form">
                <input type="hidden" id="supplier-id">
                
                <div class="form-section">
                    <h3>Supplier Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="supplier-name">Supplier Name <span class="required">*</span></label>
                            <input type="text" id="supplier-name" required placeholder="e.g., Laparkan Trading (Guyana) Company Limited">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="supplier-address">Address <span class="required">*</span></label>
                            <textarea id="supplier-address" required placeholder="Full business address"></textarea>
                        </div>
                    </div>
                    <div class="form-row two-col">
                        <div class="form-group">
                            <label for="supplier-telephone">Telephone Number <span class="required">*</span></label>
                            <input type="tel" id="supplier-telephone" required placeholder="e.g., 592-225-1234">
                        </div>
                        <div class="form-group">
                            <label for="supplier-email">Email Address</label>
                            <input type="email" id="supplier-email" placeholder="contact@supplier.com">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="supplier-contact">Contact Person</label>
                            <input type="text" id="supplier-contact" placeholder="Name of primary contact">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>Categories <span class="required">*</span></label>
                            <p class="form-hint">Select one or more categories for this supplier</p>
                            <div id="supplier-category-checkboxes" class="category-checkboxes"></div>
                        </div>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Compliance Expiration Dates</h3>
                    <p class="form-hint">Enter the expiration dates for compliance certificates.</p>
                    <div class="form-row two-col">
                        <div class="form-group">
                            <label for="nis-expiration-date">NIS Compliance Expiration</label>
                            <input type="date" id="nis-expiration-date">
                        </div>
                        <div class="form-group">
                            <label for="gra-expiration-date">GRA Compliance Expiration</label>
                            <input type="date" id="gra-expiration-date">
                        </div>
                    </div>
                </div>

                <div class="form-section" id="documents-section">
                    <h3>Compliance Documents</h3>
                    <p class="form-hint">Upload PDF documents only. Maximum file size: 10MB per document.</p>
                    
                    <div class="document-uploads">
                        <div class="document-upload-item">
                            <div class="doc-info">
                                <svg viewBox="0 0 24 24" class="doc-icon"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="14,2 14,8 20,8" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                <div class="doc-details">
                                    <span class="doc-label">Business Registration Certificate</span>
                                    <span class="doc-status" id="status-business_registration">Not uploaded</span>
                                </div>
                            </div>
                            <div class="doc-actions">
                                <input type="file" id="file-business_registration" accept=".pdf" class="file-input">
                                <label for="file-business_registration" class="btn btn-outline btn-sm">Choose File</label>
                            </div>
                        </div>

                        <div class="document-upload-item">
                            <div class="doc-info">
                                <svg viewBox="0 0 24 24" class="doc-icon"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="14,2 14,8 20,8" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                <div class="doc-details">
                                    <span class="doc-label">NIS Compliance Certificate</span>
                                    <span class="doc-status" id="status-nis_compliance">Not uploaded</span>
                                </div>
                            </div>
                            <div class="doc-actions">
                                <input type="file" id="file-nis_compliance" accept=".pdf" class="file-input">
                                <label for="file-nis_compliance" class="btn btn-outline btn-sm">Choose File</label>
                            </div>
                        </div>

                        <div class="document-upload-item">
                            <div class="doc-info">
                                <svg viewBox="0 0 24 24" class="doc-icon"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="14,2 14,8 20,8" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                <div class="doc-details">
                                    <span class="doc-label">GRA Compliance Certificate</span>
                                    <span class="doc-status" id="status-gra_compliance">Not uploaded</span>
                                </div>
                            </div>
                            <div class="doc-actions">
                                <input type="file" id="file-gra_compliance" accept=".pdf" class="file-input">
                                <label for="file-gra_compliance" class="btn btn-outline btn-sm">Choose File</label>
                            </div>
                        </div>

                        <div class="document-upload-item">
                            <div class="doc-info">
                                <svg viewBox="0 0 24 24" class="doc-icon"><path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" fill="none" stroke="currentColor" stroke-width="2"/><polyline points="14,2 14,8 20,8" fill="none" stroke="currentColor" stroke-width="2"/></svg>
                                <div class="doc-details">
                                    <span class="doc-label">TIN Certificate</span>
                                    <span class="doc-status" id="status-tin_certificate">Not uploaded</span>
                                </div>
                            </div>
                            <div class="doc-actions">
                                <input type="file" id="file-tin_certificate" accept=".pdf" class="file-input">
                                <label for="file-tin_certificate" class="btn btn-outline btn-sm">Choose File</label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeSupplierModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="supplier-submit-btn">
                        <span>Save Supplier</span>
                        <div class="btn-spinner hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Supplier Detail Modal -->
    <div id="supplier-detail-modal" class="modal hidden">
        <div class="modal-content detail-modal-content">
            <div class="modal-header">
                <h2 id="detail-supplier-name">Supplier Details</h2>
                <button class="modal-close" onclick="closeDetailModal()">
                    <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
            
            <div class="detail-content">
                <div class="detail-section">
                    <h3>Contact Information</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <span class="detail-label">Address</span>
                            <span class="detail-value" id="detail-address">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Telephone</span>
                            <span class="detail-value" id="detail-telephone">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Email</span>
                            <span class="detail-value" id="detail-email">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Contact Person</span>
                            <span class="detail-value" id="detail-contact">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Categories</span>
                            <span class="detail-value" id="detail-category">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Registered</span>
                            <span class="detail-value" id="detail-created">-</span>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <h3>Compliance Status</h3>
                    <div id="detail-compliance" class="compliance-status-grid"></div>
                </div>

                <div class="detail-section">
                    <h3>Compliance Documents</h3>
                    <div class="documents-grid" id="detail-documents"></div>
                </div>
            </div>

            <div class="detail-actions">
                <button class="btn btn-danger" id="delete-supplier-btn">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Delete Supplier
                </button>
                <button class="btn btn-primary" id="edit-supplier-btn">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke="currentColor" stroke-width="2" fill="none"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Edit Supplier
                </button>
            </div>
        </div>
    </div>

    <!-- Category Management Modal -->
    <div id="category-modal" class="modal hidden">
        <div class="modal-content category-modal-content">
            <div class="modal-header">
                <h2>Manage Categories</h2>
                <button class="modal-close" onclick="closeCategoryModal()">
                    <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
            
            <div class="category-form-container">
                <form id="category-form" class="category-add-form">
                    <input type="text" id="new-category-name" placeholder="Enter new category name" required>
                    <button type="submit" class="btn btn-primary">Add Category</button>
                </form>
            </div>

            <div class="category-list-container">
                <h3>Existing Categories</h3>
                <div id="category-list" class="category-manage-list"></div>
            </div>
        </div>
    </div>

    <!-- Add/Edit Contract Modal -->
    <div id="contract-modal" class="modal hidden">
        <div class="modal-content contract-modal-content">
            <div class="modal-header">
                <h2 id="contract-modal-title">Add New Contract</h2>
                <button class="modal-close" onclick="closeContractModal()">
                    <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
            
            <form id="contract-form" class="contract-form">
                <input type="hidden" id="contract-id">
                
                <div class="form-section">
                    <h3>Contract Information</h3>
                    <div class="form-row two-col">
                        <div class="form-group">
                            <label for="contract-number">Contract Number <span class="required">*</span></label>
                            <input type="text" id="contract-number" required placeholder="e.g., BOS-2025-001">
                        </div>
                        <div class="form-group">
                            <label for="contract-supplier">Supplier <span class="required">*</span></label>
                            <select id="contract-supplier" required>
                                <option value="">Select Supplier</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="contract-description">Contract Description</label>
                            <textarea id="contract-description" placeholder="Brief description of the contract"></textarea>
                        </div>
                    </div>
                    <div class="form-row three-col">
                        <div class="form-group">
                            <label for="contract-amount">Contract Amount (GYD)</label>
                            <input type="number" id="contract-amount" step="0.01" min="0" placeholder="0.00">
                        </div>
                        <div class="form-group">
                            <label for="contract-start-date">Start Date</label>
                            <input type="date" id="contract-start-date">
                        </div>
                        <div class="form-group">
                            <label for="contract-end-date">End Date</label>
                            <input type="date" id="contract-end-date">
                        </div>
                    </div>
                </div>

                <div class="form-section" id="contract-files-section">
                    <h3>Contract Files</h3>
                    <p class="form-hint">Upload PDF contract documents. Maximum file size: 10MB per file.</p>
                    
                    <div id="existing-contract-files" class="existing-files-list hidden"></div>
                    
                    <div class="file-upload-area">
                        <input type="file" id="contract-file-input" accept=".pdf" class="file-input" multiple>
                        <label for="contract-file-input" class="btn btn-outline">
                            <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4M17 8l-5-5-5 5M12 3v12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                            Choose Files
                        </label>
                        <span id="pending-files-count" class="pending-files-info"></span>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-secondary" onclick="closeContractModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary" id="contract-submit-btn">
                        <span>Save Contract</span>
                        <div class="btn-spinner hidden"></div>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Contract Detail Modal -->
    <div id="contract-detail-modal" class="modal hidden">
        <div class="modal-content detail-modal-content">
            <div class="modal-header">
                <h2 id="contract-detail-title">Contract Details</h2>
                <button class="modal-close" onclick="closeContractDetailModal()">
                    <svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                </button>
            </div>
            
            <div class="detail-content">
                <div class="detail-section">
                    <h3>Contract Information</h3>
                    <div class="detail-grid">
                        <div class="detail-item">
                            <span class="detail-label">Contract Number</span>
                            <span class="detail-value" id="contract-detail-number">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Supplier</span>
                            <span class="detail-value" id="contract-detail-supplier">-</span>
                        </div>
                        <div class="detail-item full-width">
                            <span class="detail-label">Description</span>
                            <span class="detail-value" id="contract-detail-description">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Amount</span>
                            <span class="detail-value" id="contract-detail-amount">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Start Date</span>
                            <span class="detail-value" id="contract-detail-start">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">End Date</span>
                            <span class="detail-value" id="contract-detail-end">-</span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Created</span>
                            <span class="detail-value" id="contract-detail-created">-</span>
                        </div>
                    </div>
                </div>

                <div class="detail-section">
                    <h3>Contract Files</h3>
                    <div class="contract-files-grid" id="contract-detail-files"></div>
                </div>
            </div>

            <div class="detail-actions">
                <button class="btn btn-danger" id="delete-contract-btn">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Delete Contract
                </button>
                <button class="btn btn-primary" id="edit-contract-btn">
                    <svg viewBox="0 0 24 24" class="btn-icon-left"><path d="M11 4H4a2 2 0 00-2 2v14a2 2 0 002 2h14a2 2 0 002-2v-7" stroke="currentColor" stroke-width="2" fill="none"/><path d="M18.5 2.5a2.121 2.121 0 013 3L12 15l-4 1 1-4 9.5-9.5z" stroke="currentColor" stroke-width="2" fill="none"/></svg>
                    Edit Contract
                </button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="toast hidden">
        <div class="toast-content">
            <svg viewBox="0 0 24 24" class="toast-icon toast-success"><path d="M22 11.08V12a10 10 0 11-5.93-9.14" stroke="currentColor" stroke-width="2" fill="none"/><polyline points="22,4 12,14.01 9,11.01" stroke="currentColor" stroke-width="2" fill="none"/></svg>
            <svg viewBox="0 0 24 24" class="toast-icon toast-error hidden"><circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2" fill="none"/><line x1="15" y1="9" x2="9" y2="15" stroke="currentColor" stroke-width="2"/><line x1="9" y1="9" x2="15" y2="15" stroke="currentColor" stroke-width="2"/></svg>
            <span class="toast-message"></span>
        </div>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
</body>
</html>
